# Firebaseè°ƒè¯•æŒ‡å—

## ğŸ” "Invalid token in path" é”™è¯¯è§£å†³æ–¹æ¡ˆ

### 1. æ£€æŸ¥Firebaseæ§åˆ¶å°è®¾ç½®

#### æ­¥éª¤1ï¼šå¯ç”¨åŒ¿åè®¤è¯
1. å‰å¾€ [Firebaseæ§åˆ¶å°](https://console.firebase.google.com/)
2. é€‰æ‹©ä½ çš„é¡¹ç›® `pig-timer-collaboration`
3. å·¦ä¾§å¯¼èˆª â†’ **Authentication** â†’ **ç™»å½•æ–¹æ³•**
4. æ‰¾åˆ° **åŒ¿å** æä¾›å•†
5. ç‚¹å‡» **å¯ç”¨** å¹¶ä¿å­˜

#### æ­¥éª¤2ï¼šé…ç½®Realtime Databaseå®‰å…¨è§„åˆ™
1. åœ¨Firebaseæ§åˆ¶å°ï¼Œå‰å¾€ **Realtime Database**
2. ç‚¹å‡» **è§„åˆ™** æ ‡ç­¾
3. æ›¿æ¢ç°æœ‰è§„åˆ™ä¸ºä»¥ä¸‹å†…å®¹ï¼š

```json
{
  "rules": {
    ".read": "auth != null",
    ".write": "auth != null",
    "rooms": {
      "$roomId": {
        ".validate": "newData.hasChildren(['info', 'users', 'gameState'])",
        "info": {
          ".validate": "newData.hasChildren(['hostId', 'created', 'isActive'])"
        },
        "users": {
          "$userId": {
            ".validate": "newData.hasChildren(['name', 'isOnline', 'lastSeen'])"
          }
        },
        "gameState": {
          ".validate": "true"
        },
        "operations": {
          ".validate": "true"
        }
      }
    }
  }
}
```

4. ç‚¹å‡» **å‘å¸ƒ** ä¿å­˜è§„åˆ™

#### æ­¥éª¤3ï¼šéªŒè¯æ•°æ®åº“URL
ç¡®è®¤ä½ çš„æ•°æ®åº“URLæ ¼å¼æ­£ç¡®ï¼š
- åº”è¯¥æ˜¯ï¼š`https://pig-timer-collaboration-default-rtdb.asia-southeast1.firebasedatabase.app`
- ä¸åº”è¯¥æœ‰å°¾éšçš„ `/`

### 2. ä¸´æ—¶æµ‹è¯•è§„åˆ™ï¼ˆä»…ç”¨äºå¼€å‘ï¼‰

å¦‚æœä¸Šè¿°è§„åˆ™ä»ç„¶æœ‰é—®é¢˜ï¼Œå¯ä»¥ä¸´æ—¶ä½¿ç”¨æ›´å®½æ¾çš„è§„åˆ™è¿›è¡Œæµ‹è¯•ï¼š

```json
{
  "rules": {
    ".read": true,
    ".write": true
  }
}
```

âš ï¸ **è­¦å‘Šï¼šæ­¤è§„åˆ™å…è®¸ä»»ä½•äººè¯»å†™ä½ çš„æ•°æ®åº“ï¼Œä»…ç”¨äºæµ‹è¯•ï¼Œä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼**

### 3. æ£€æŸ¥æ­¥éª¤

1. âœ… åŒ¿åè®¤è¯å·²å¯ç”¨
2. âœ… æ•°æ®åº“è§„åˆ™å·²é…ç½®
3. âœ… æ•°æ®åº“URLæ­£ç¡®
4. âœ… é¡¹ç›®é…ç½®æ­£ç¡®

### 4. å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆéœ€è¦åŒ¿åè®¤è¯ï¼Ÿ**
A: Firebaseè¦æ±‚ç”¨æˆ·å¿…é¡»ç»è¿‡èº«ä»½éªŒè¯æ‰èƒ½è®¿é—®æ•°æ®åº“ï¼ŒåŒ¿åè®¤è¯æ˜¯æœ€ç®€å•çš„æ–¹å¼ã€‚

**Q: å®‰å…¨è§„åˆ™çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ**
A: æ§åˆ¶è°å¯ä»¥è¯»å†™æ•°æ®åº“çš„å“ªäº›éƒ¨åˆ†ï¼Œç¡®ä¿æ•°æ®å®‰å…¨ã€‚

**Q: å¦‚ä½•çŸ¥é“é…ç½®æ˜¯å¦æˆåŠŸï¼Ÿ**
A: åˆ·æ–°æµ‹è¯•é¡µé¢ï¼Œæ§åˆ¶å°åº”è¯¥æ˜¾ç¤º"âœ… Firebaseè¿æ¥æˆåŠŸ"è€Œä¸æ˜¯é”™è¯¯ä¿¡æ¯ã€‚
